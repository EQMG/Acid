<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>acid::ShadowBox class | Acid A
high
speed
C++17
Vulkan
game
engine</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="stylesheet" href="acid.css" />
  <link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
  <meta
  name="google-site-verification"
  content="CFh8H_6dbXMEBgSBApTt5U8Tq5CO3iL3dCIhww9DiYs"
  />
  <meta
  name="description"
  content="A
  high
  speed
  C++17
  Vulkan
  game
  engine.">
  <script
  src="acid.js"></script>
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m"><img src="Acid_01.png" alt="" />Acid <span class="m-thin">A
high
speed
C++17
Vulkan
game
engine</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="2">
            <li><a href="annotated.html">Classes</a></li>
            <li><a target="_blank" href="https://github.com/EQMG/Acid/" class="github">Github</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceacid.html">acid</a>::<wbr/></span>ShadowBox <span class="m-thin">class</span>
        </h1>
        <p>Represents the 3D area of the world in which engine.shadows will be cast (basically represents the orthographic projection area for the shadow render pass). It can be updated each frame to optimize the area, making it as small as possible (to allow for optimal shadow map resolution) while not being too small to avoid objects not having shadows when they should. This class also provides functionality to test whether an object is inside this shadow box. Everything inside the box will be rendered to the shadow map in the shadow render pass.</p>
        <nav class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </nav>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a0e3459d3bae8b1d91f6798df6e00b010" class="m-doc">ShadowBox</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd></dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a26b3fa1bbf2cae600d21db2042151d5a" class="m-doc">Update</a>(</span><span class="m-doc-wrap">const <a href="classacid_1_1_camera.html" class="m-doc">Camera</a>&amp; camera,
              const <a href="namespaceacid.html#abcd82c5e8bbe0f8784037ec0223ef3c9" class="m-doc">Vector3f</a>&amp; lightDirection,
              float shadowOffset,
              float shadowDistance)</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a1b000ffd378932eedd857e1ad9e5666e" class="m-doc">IsInBox</a>(</span><span class="m-doc-wrap">const <a href="namespaceacid.html#abcd82c5e8bbe0f8784037ec0223ef3c9" class="m-doc">Vector3f</a>&amp; position,
              float radius) const -&gt; bool</span>
            </dt>
            <dd></dd>
            <dt id="ad607bd9b17d6bedc10238a07425c4c8e">
              <span class="m-doc-wrap-bumper">auto <a href="#ad607bd9b17d6bedc10238a07425c4c8e" class="m-doc-self">GetProjectionViewMatrix</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="classacid_1_1_matrix4.html" class="m-doc">Matrix4</a>&amp;</span>
            </dt>
            <dd><span></span></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#aeba6009d4ef7cbb58fbab6181c44f0d2" class="m-doc">GetToShadowMapSpaceMatrix</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="classacid_1_1_matrix4.html" class="m-doc">Matrix4</a>&amp;</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ab3c6554e3dbc6ff10faa4f212135cba8" class="m-doc">GetLightSpaceTransform</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="classacid_1_1_matrix4.html" class="m-doc">Matrix4</a>&amp;</span>
            </dt>
            <dd></dd>
            <dt id="a00df90a137a0e121b021a0bb5bbe24e3">
              <span class="m-doc-wrap-bumper">auto <a href="#a00df90a137a0e121b021a0bb5bbe24e3" class="m-doc-self">GetMinExtents</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="namespaceacid.html#abcd82c5e8bbe0f8784037ec0223ef3c9" class="m-doc">Vector3f</a>&amp;</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a89d30a65f1209d81dc49cc68f9ed2648">
              <span class="m-doc-wrap-bumper">auto <a href="#a89d30a65f1209d81dc49cc68f9ed2648" class="m-doc-self">GetMaxExtents</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="namespaceacid.html#abcd82c5e8bbe0f8784037ec0223ef3c9" class="m-doc">Vector3f</a>&amp;</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a03c2d8879ceb3e8078ae7f79049de3b0">
              <span class="m-doc-wrap-bumper">auto <a href="#a03c2d8879ceb3e8078ae7f79049de3b0" class="m-doc-self">GetWidth</a>(</span><span class="m-doc-wrap">) const -&gt; float</span>
            </dt>
            <dd><span></span></dd>
            <dt id="adcb3e2f9794528fef5ddbab099e92725">
              <span class="m-doc-wrap-bumper">auto <a href="#adcb3e2f9794528fef5ddbab099e92725" class="m-doc-self">GetHeight</a>(</span><span class="m-doc-wrap">) const -&gt; float</span>
            </dt>
            <dd><span></span></dd>
            <dt id="ace15d711b18efe9f7635c3b4fa83216e">
              <span class="m-doc-wrap-bumper">auto <a href="#ace15d711b18efe9f7635c3b4fa83216e" class="m-doc-self">GetDepth</a>(</span><span class="m-doc-wrap">) const -&gt; float</span>
            </dt>
            <dd><span></span></dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a0e3459d3bae8b1d91f6798df6e00b010"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> acid::<wbr />ShadowBox::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a0e3459d3bae8b1d91f6798df6e00b010" class="m-doc-self">ShadowBox</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
<p>Creates a new shadow box and calculates some initial values relating to the camera&#x27;s view frustum.</p>
          </div></section>
          <section class="m-doc-details" id="a26b3fa1bbf2cae600d21db2042151d5a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void acid::<wbr />ShadowBox::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a26b3fa1bbf2cae600d21db2042151d5a" class="m-doc-self">Update</a>(</span><span class="m-doc-wrap">const <a href="classacid_1_1_camera.html" class="m-doc">Camera</a>&amp; camera,
              const <a href="namespaceacid.html#abcd82c5e8bbe0f8784037ec0223ef3c9" class="m-doc">Vector3f</a>&amp; lightDirection,
              float shadowOffset,
              float shadowDistance)</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">camera</td>
                  <td>The camera object to be used when calculating the shadow boxes size.</td>
                </tr>
                <tr>
                  <td>lightDirection</td>
                  <td>The lights direction.</td>
                </tr>
                <tr>
                  <td>shadowOffset</td>
                  <td>The shadows offset.</td>
                </tr>
                <tr>
                  <td>shadowDistance</td>
                  <td>The shadows distance.</td>
                </tr>
              </tbody>
            </table>
<p>Updates the bounds of the shadow box based on the light direction and the camera&#x27;s view frustum. Will make sure that the box covers the smallest area possible while still ensuring that everything. Objects inside the camera&#x27;s view (and in range) will be shadowed.</p>
          </div></section>
          <section class="m-doc-details" id="a1b000ffd378932eedd857e1ad9e5666e"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool acid::<wbr />ShadowBox::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a1b000ffd378932eedd857e1ad9e5666e" class="m-doc-self">IsInBox</a>(</span><span class="m-doc-wrap">const <a href="namespaceacid.html#abcd82c5e8bbe0f8784037ec0223ef3c9" class="m-doc">Vector3f</a>&amp; position,
              float radius) const</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">position</td>
                  <td>The centre of the bounding sphere in world space.</td>
                </tr>
                <tr>
                  <td>radius</td>
                  <td>The radius of the bounding sphere.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td><code class="m-code"><span class="nb">true</span></code> if the sphere intersects the box.</td>
                </tr>
              </tfoot>
            </table>
<p>Tests if a bounding sphere intersects the shadow box. Can be used to decide which engine.entities should be rendered in the shadow render pass.</p>
          </div></section>
          <section class="m-doc-details" id="aeba6009d4ef7cbb58fbab6181c44f0d2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">const <a href="classacid_1_1_matrix4.html" class="m-doc">Matrix4</a>&amp; acid::<wbr />ShadowBox::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aeba6009d4ef7cbb58fbab6181c44f0d2" class="m-doc-self">GetToShadowMapSpaceMatrix</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The to-shadow-map-space matrix.</td>
                </tr>
              </tfoot>
            </table>
<p>This biased projection-view matrix is used to convert fragments into &quot;shadow map space&quot; when rendering the main render pass.</p>
          </div></section>
          <section class="m-doc-details" id="ab3c6554e3dbc6ff10faa4f212135cba8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">const <a href="classacid_1_1_matrix4.html" class="m-doc">Matrix4</a>&amp; acid::<wbr />ShadowBox::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab3c6554e3dbc6ff10faa4f212135cba8" class="m-doc-self">GetLightSpaceTransform</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>The light&#x27;s &quot;view&quot; matrix.</td>
                </tr>
              </tfoot>
            </table>
<p>Gets the light&#x27;s &quot;view&quot; matrix</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <a
target="_blank"
href="https://github.com/EQMG/Acid/">Github</a>
&bull;

<a
target="_blank"
href="https://github.com/EQMG/Acid/issues">Report
an
issue</a>

<br><br>Documentation
generated
using
<a
href="https://mcss.mosra.cz/">m.css</a>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
