<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>acid::SocketSelector class | Acid A
high
speed
C++17
Vulkan
game
engine</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="stylesheet" href="acid.css" />
  <link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
  <meta
  name="google-site-verification"
  content="CFh8H_6dbXMEBgSBApTt5U8Tq5CO3iL3dCIhww9DiYs"
  />
  <meta
  name="description"
  content="A
  high
  speed
  C++17
  Vulkan
  game
  engine.">
  <script
  src="acid.js"></script>
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m"><img src="Acid_01.png" alt="" />Acid <span class="m-thin">A
high
speed
C++17
Vulkan
game
engine</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="2">
            <li><a href="annotated.html">Classes</a></li>
            <li><a target="_blank" href="https://github.com/EQMG/Acid/" class="github">Github</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceacid.html">acid</a>::<wbr/></span>SocketSelector <span class="m-thin">class</span>
        </h1>
        <p><a href="classacid_1_1_socket.html" class="m-doc">Socket</a> selectors provide a way to wait until some data is available on a set of sockets, instead of just one. This is convenient when you have multiple sockets that may possibly receive data, but you don&#x27;t know which one will be ready first. In particular, it avoids to use a thread for each socket; with selectors, a single thread can handle all the sockets.</p>
        <nav class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-types">Public types</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </nav>
<p>All types of sockets can be used in a selector:</p><ul><li><a href="classacid_1_1_tcp_listener.html" class="m-doc">acid::<wbr />TcpListener</a></li><li><a href="classacid_1_1_tcp_socket.html" class="m-doc">acid::<wbr />TcpSocket</a></li><li><a href="classacid_1_1_udp_socket.html" class="m-doc">acid::<wbr />UdpSocket</a></li></ul><p>A selector doesn&#x27;t store its own copies of the sockets (socket classes are not copyable anyway), it simply keeps a reference to the original sockets that you pass to the &quot;add&quot; function. Therefore, you can&#x27;t use the selector as a socket container, you must store them outside and make sure that they are alive as long as they are used in the selector.</p><p>Using a selector is simple:</p><ul><li>populate the selector with all the sockets that you want to observe</li><li>make it wait until there is data available on any of the sockets</li><li>test each socket to find out which ones are ready</li></ul>
        <section id="pub-types">
          <h2><a href="#pub-types">Public types</a></h2>
          <dl class="m-doc">
            <dt>
              struct <a href="structacid_1_1_socket_selector_1_1_socket_selector_impl.html" class="m-doc">SocketSelectorImpl</a>
            </dt>
            <dd><span></span></dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#abb250b3cfd757f551a94f8872d2eaa08" class="m-doc">SocketSelector</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a55132883948e4dec0eca3b215570cda9" class="m-doc">SocketSelector</a>(</span><span class="m-doc-wrap">const <a href="classacid_1_1_socket_selector.html" class="m-doc">SocketSelector</a>&amp; copy)</span>
            </dt>
            <dd></dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a4632190ba698c86cdbad121ea22af7cd" class="m-doc">Add</a>(</span><span class="m-doc-wrap"><a href="classacid_1_1_socket.html" class="m-doc">Socket</a>&amp; socket)</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a8a38c3a0924d271de15d3663c1f2354d" class="m-doc">Remove</a>(</span><span class="m-doc-wrap"><a href="classacid_1_1_socket.html" class="m-doc">Socket</a>&amp; socket)</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a63a3ba6a513048c936d40dcd7d7b3608" class="m-doc">Clear</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a96f61c57abc2398f9877bdd186def4ae" class="m-doc">Wait</a>(</span><span class="m-doc-wrap"><a href="classacid_1_1_time.html" class="m-doc">Time</a> timeout = 0s) -&gt; bool</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#abc264d737619969d18d694c4672e1033" class="m-doc">IsReady</a>(</span><span class="m-doc-wrap">const <a href="classacid_1_1_socket.html" class="m-doc">Socket</a>&amp; socket) const -&gt; bool</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#acffa66e218e150a4abd7e428c7a81f52" class="m-doc">operator=</a>(</span><span class="m-doc-wrap">const <a href="classacid_1_1_socket_selector.html" class="m-doc">SocketSelector</a>&amp; right) -&gt; <a href="classacid_1_1_socket_selector.html" class="m-doc">SocketSelector</a>&amp;</span>
            </dt>
            <dd></dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="abb250b3cfd757f551a94f8872d2eaa08"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> acid::<wbr />SocketSelector::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#abb250b3cfd757f551a94f8872d2eaa08" class="m-doc-self">SocketSelector</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
<p>Default constructor.</p>
          </div></section>
          <section class="m-doc-details" id="a55132883948e4dec0eca3b215570cda9"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> acid::<wbr />SocketSelector::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a55132883948e4dec0eca3b215570cda9" class="m-doc-self">SocketSelector</a>(</span><span class="m-doc-wrap">const <a href="classacid_1_1_socket_selector.html" class="m-doc">SocketSelector</a>&amp; copy)</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">copy</td>
                  <td><a href="classacid_1_1_instance.html" class="m-doc">Instance</a> to copy.</td>
                </tr>
              </tbody>
            </table>
<p>Copy constructor.</p>
          </div></section>
          <section class="m-doc-details" id="a4632190ba698c86cdbad121ea22af7cd"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void acid::<wbr />SocketSelector::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a4632190ba698c86cdbad121ea22af7cd" class="m-doc-self">Add</a>(</span><span class="m-doc-wrap"><a href="classacid_1_1_socket.html" class="m-doc">Socket</a>&amp; socket)</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">socket</td>
                  <td>Reference to the socket to add.</td>
                </tr>
              </tbody>
            </table>
<p>Add a new socket to the selector.</p><p>This function keeps a weak reference to the socket, so you have to make sure that the socket is not destroyed while it is stored in the selector. This function does nothing if the socket is not valid.</p>
          </div></section>
          <section class="m-doc-details" id="a8a38c3a0924d271de15d3663c1f2354d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void acid::<wbr />SocketSelector::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a8a38c3a0924d271de15d3663c1f2354d" class="m-doc-self">Remove</a>(</span><span class="m-doc-wrap"><a href="classacid_1_1_socket.html" class="m-doc">Socket</a>&amp; socket)</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">socket</td>
                  <td>Reference to the socket to remove.</td>
                </tr>
              </tbody>
            </table>
<p>Remove a socket from the selector. This function doesn&#x27;t destroy the socket, it simply removes the reference that the selector has to it.</p>
          </div></section>
          <section class="m-doc-details" id="a63a3ba6a513048c936d40dcd7d7b3608"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void acid::<wbr />SocketSelector::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a63a3ba6a513048c936d40dcd7d7b3608" class="m-doc-self">Clear</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
<p>Remove all the sockets stored in the selector. This function doesn&#x27;t destroy any instance, it simply removes all the references that the selector has to external sockets.</p>
          </div></section>
          <section class="m-doc-details" id="a96f61c57abc2398f9877bdd186def4ae"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool acid::<wbr />SocketSelector::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a96f61c57abc2398f9877bdd186def4ae" class="m-doc-self">Wait</a>(</span><span class="m-doc-wrap"><a href="classacid_1_1_time.html" class="m-doc">Time</a> timeout = 0s)</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timeout</td>
                  <td>Maximum time to wait, (use 0s for infinity).</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if there are sockets ready, false otherwise.</td>
                </tr>
              </tfoot>
            </table>
<p>Wait until one or more sockets are ready to receive. This function returns as soon as at least one socket has some data available to be received. To know which sockets are ready, use the isReady function. If you use a timeout and no socket is ready before the timeout is over, the function returns false.</p>
          </div></section>
          <section class="m-doc-details" id="abc264d737619969d18d694c4672e1033"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool acid::<wbr />SocketSelector::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#abc264d737619969d18d694c4672e1033" class="m-doc-self">IsReady</a>(</span><span class="m-doc-wrap">const <a href="classacid_1_1_socket.html" class="m-doc">Socket</a>&amp; socket) const</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">socket</td>
                  <td><a href="classacid_1_1_socket.html" class="m-doc">Socket</a> to test.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True if the socket is ready to read, false otherwise.</td>
                </tr>
              </tfoot>
            </table>
<p>Test a socket to know if it is ready to receive data.</p><p>This function must be used after a call to Wait, to know which sockets are ready to receive data. If a socket is ready, a call to receive will never block because we know that there is data available to read. Note that if this function returns true for a <a href="classacid_1_1_tcp_listener.html" class="m-doc">TcpListener</a>, this means that it is ready to accept a new connection.</p>
          </div></section>
          <section class="m-doc-details" id="acffa66e218e150a4abd7e428c7a81f52"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="classacid_1_1_socket_selector.html" class="m-doc">SocketSelector</a>&amp; acid::<wbr />SocketSelector::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#acffa66e218e150a4abd7e428c7a81f52" class="m-doc-self">operator=</a>(</span><span class="m-doc-wrap">const <a href="classacid_1_1_socket_selector.html" class="m-doc">SocketSelector</a>&amp; right)</span></span>
            </h3>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">right</td>
                  <td><a href="classacid_1_1_instance.html" class="m-doc">Instance</a> to assign.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>Reference to self.</td>
                </tr>
              </tfoot>
            </table>
<p>Overload of assignment operator.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <a
target="_blank"
href="https://github.com/EQMG/Acid/">Github</a>
&bull;

<a
target="_blank"
href="https://github.com/EQMG/Acid/issues">Report
an
issue</a>

<br><br>Documentation
generated
using
<a
href="https://mcss.mosra.cz/">m.css</a>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
